import{u as w,a as x,F as y,d as k}from"./FileItem-e35cc83f.js";import{d as F,V as h,cl as D,r as I,a_ as b,b2 as C,L as V,N as E,c,X as z,Y as e,a8 as S,ca as B,cx as R,U as A}from"./index-5700cfc2.js";import"./functionalCallableComp-9e5d0840.js";import"./index-d020f551.js";/* empty css              */const K=F({__name:"gridView",props:{tabIdx:{},paneIdx:{},id:{},removable:{type:Boolean},allowDragAndDrop:{type:Boolean},files:{},paneKey:{}},setup(p){const l=p,d=h(),{stackViewEl:m}=w().toRefs(),{itemSize:i,gridItems:u,cellWidth:f}=x(),g=D(),a=I(l.files??[]),_=async s=>{const o=B(s);l.allowDragAndDrop&&o&&(a.value=R([...a.value,...o.nodes]))},v=s=>{a.value.splice(s,1)};return b(()=>{d.pageFuncExportMap.set(l.paneKey,{getFiles:()=>C(a.value),setFiles:s=>a.value=s})}),(s,o)=>(V(),E("div",{class:"container",ref_key:"stackViewEl",ref:m,onDrop:_},[c(e(k),{ref:"scroller",class:"file-list",items:a.value.slice(),"item-size":e(i).first,"key-field":"fullpath","item-secondary-size":e(i).second,gridItems:e(u)},{default:z(({item:t,index:r})=>{var n;return[c(y,{idx:r,file:t,"cell-width":e(f),"enable-close-icon":l.removable,onCloseIconClick:N=>v(r),"full-screen-preview-image-url":e(S)(t),"extra-tags":(n=t==null?void 0:t.tags)==null?void 0:n.map(e(g).tagConvert),"enable-right-click-menu":!1},null,8,["idx","file","cell-width","enable-close-icon","onCloseIconClick","full-screen-preview-image-url","extra-tags"])]}),_:1},8,["items","item-size","item-secondary-size","gridItems"])],544))}});const H=A(K,[["__scopeId","data-v-f35f4802"]]);export{H as default};
