import{c as f,Y as Q,Z as ee,$ as te,R as M,a0 as g,a1 as ne,U as ae,a2 as se,a3 as D,a4 as x,d as X,o as u,m as O,n as h,x as $,v as l,a5 as oe,W as le,M as ie,k as ce,a6 as re,a7 as j,y as _,p as t,r,C as k,q as w,a8 as H,z as S,A as T,a9 as N,aa as de,ab as ue,ac as pe,V as he,ad as me,ae as _e,X as ge}from"./index-a3c10ab0.js";import{a as fe,r as ve}from"./db-b0a4fc95.js";import{D as be}from"./index-46f799ce.js";/* empty css              */var ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};const we=ke;function F(o){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?Object(arguments[a]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable}))),i.forEach(function(d){ye(o,d,e[d])})}return o}function ye(o,a,e){return a in o?Object.defineProperty(o,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[a]=e,o}var R=function(a,e){var i=F({},a,e.attrs);return f(Q,F({},i,{icon:we}),null)};R.displayName="FileDoneOutlined";R.inheritAttrs=!1;const Oe=R;var $e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const Ce=$e;function B(o){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?Object(arguments[a]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable}))),i.forEach(function(d){Ie(o,d,e[d])})}return o}function Ie(o,a,e){return a in o?Object.defineProperty(o,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[a]=e,o}var A=function(a,e){var i=B({},a,e.attrs);return f(Q,B({},i,{icon:Ce}),null)};A.displayName="LockOutlined";A.inheritAttrs=!1;const q=A,G=async o=>{let a;if({}.TAURI_ARCH){const e=await ee({directory:!0});if(typeof e=="string")a=e;else return}else a=await new Promise(e=>{const i=te("");M.confirm({title:g("inputTargetFolderPath"),content:()=>ne(ae,{value:i.value,"onUpdate:value":d=>i.value=d}),async onOk(){const d=i.value;(await se([d]))[d]?e(i.value):D.error(g("pathDoesNotExist"))}})});M.confirm({content:g("confirmToAddToExtraPath"),async onOk(){await fe({type:o,path:a}),D.success(g("addCompleted")),x.emit("searchIndexExpired"),x.emit("updateGlobalSetting")}})},U=(o,a)=>{M.confirm({content:g("confirmDelete"),closable:!0,async onOk(){await ve({type:a,path:o}),D.success(g("removeCompleted")),x.emit("searchIndexExpired"),x.emit("updateGlobalSetting")}})},W=X({__name:"actionContextMenu",emits:["openOnTheRight","openInNewTab"],setup(o,{emit:a}){const e=i=>{switch(i.key.toString()){case"openOnTheRight":a("openOnTheRight");break;case"openInNewTab":a("openInNewTab");break}};return(i,d)=>{const y=le,C=ie,I=be;return u(),O(I,{trigger:["contextmenu"]},{overlay:h(()=>[f(C,{onClick:e},{default:h(()=>[f(y,{key:"openOnTheRight"},{default:h(()=>[$(l(i.$t("openOnTheRight")),1)]),_:1}),f(y,{key:"openInNewTab"},{default:h(()=>[$(l(i.$t("openInNewTab")),1)]),_:1})]),_:1})]),default:h(()=>[oe(i.$slots,"default")]),_:3})}}}),z=o=>(me("data-v-236610db"),o=o(),_e(),o),Se={class:"container"},Te={class:"header"},xe={key:0,style:{"margin-left":"16px","font-size":"1.5em"}},ze=z(()=>t("div",{"flex-placeholder":""},null,-1)),Pe=z(()=>t("a",{href:"https://github.com/zanllp/sd-webui-infinite-image-browsing",target:"_blank",class:"last-record"},"Github",-1)),Ne={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/blob/main/.env.example",target:"_blank",class:"last-record"},Me={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/wiki/Change-log",target:"_blank",class:"last-record"},De={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/issues/90",target:"_blank",class:"last-record"},Re={class:"access-mode-message"},Ae=z(()=>t("div",{"flex-placeholder":""},null,-1)),Le={class:"access-mode-message"},Ee=z(()=>t("div",{"flex-placeholder":""},null,-1)),Ve={class:"content"},je={class:"feature-item"},He={class:"text line-clamp-1"},Fe=["onClick"],Be={class:"text line-clamp-2"},qe={key:0,class:"feature-item"},Ge={class:"text line-clamp-1"},Ue=["onClick"],We={class:"text line-clamp-2"},Qe={class:"feature-item"},Xe=["onClick"],Ye={class:"text line-clamp-1"},Ze={class:"text line-clamp-1"},Je={class:"text line-clamp-1"},Ke={class:"text line-clamp-1"},et={key:1,class:"feature-item recent"},tt={class:"title"},nt=["onClick"],at={class:"text line-clamp-1"},st=X({__name:"emptyStartup",props:{tabIdx:{},paneIdx:{}},setup(o){const a=o,e=ce(),i=re(),d={local:g("local"),"tag-search":g("imgSearch"),"fuzzy-search":g("fuzzy-search"),"global-setting":g("globalSettings"),"batch-download":g("batchDownload")+" / "+g("archive")},y=(n,c,v=!1)=>{let p;switch(n){case"tag-search-matched-image-grid":case"img-sli":return;case"global-setting":case"tag-search":case"batch-download":case"fuzzy-search":case"empty":p={type:n,name:d[n],key:Date.now()+N()};break;case"local":p={type:n,name:d[n],key:Date.now()+N(),path:c,walkModePath:v?c:void 0}}return p},C=(n,c,v=!1)=>{const p=y(n,c,v);if(!p)return;const m=e.tabList[a.tabIdx];m.panes.splice(a.paneIdx,1,p),m.key=p.key},I=(n,c,v=!1)=>{const p=y(n,c,v);if(!p)return;e.tabList[a.tabIdx].panes.push(p)},L=(n,c,v=!1)=>{const p=y(n,c,v);if(!p)return;let m=e.tabList[a.tabIdx+1];m||(m={panes:[],key:"",id:N()},e.tabList[a.tabIdx+1]=m),m.panes.push(p),m.key=p.key},P=j(()=>{var n;return(n=e.tabListHistoryRecord)==null?void 0:n[1]}),Y=j(()=>e.quickMovePaths.filter(({key:n,type:c})=>n==="outdir_txt2img_samples"||n==="outdir_img2img_samples"||n==="outdir_txt2img_grids"||n==="outdir_img2img_grids"||c==="walk")),Z=window.parent!==window,J=()=>window.parent.open("/infinite_image_browsing"+(window.parent.location.href.includes("theme=dark")?"?__theme=dark":"")),K=()=>{de(P.value),e.tabList=ue(P.value.tabs)};return(n,c)=>{var m,E,V;const v=pe,p=he;return u(),_("div",Se,[t("div",Te,[t("h1",null,l(n.$t("welcome")),1),(m=r(e).conf)!=null&&m.enable_access_control&&r(e).dontShowAgain?(u(),_("div",xe,[f(r(q),{title:"Access Control mode",style:{"vertical-align":"text-bottom"}})])):k("",!0),ze,Pe,t("a",Ne,l(n.$t("privacyAndSecurity")),1),t("a",Me,l(n.$t("changlog")),1),t("a",De,l(n.$t("faq")),1)]),(E=r(e).conf)!=null&&E.enable_access_control&&!r(e).dontShowAgain?(u(),O(v,{key:0,"show-icon":""},{message:h(()=>[t("div",Re,[t("div",null,l(n.$t("accessControlModeTips")),1),Ae,t("a",{onClick:c[0]||(c[0]=w(s=>r(e).dontShowAgain=!0,["prevent"]))},l(n.$t("dontShowAgain")),1)])]),icon:h(()=>[f(r(q))]),_:1})):k("",!0),r(e).dontShowAgainNewImgOpts?k("",!0):(u(),O(v,{key:1,"show-icon":""},{message:h(()=>[t("div",Le,[t("div",null,l(n.$t("majorUpdateCustomCellSizeTips")),1),Ee,t("a",{onClick:c[1]||(c[1]=w(s=>r(e).dontShowAgainNewImgOpts=!0,["prevent"]))},l(n.$t("dontShowAgain")),1)])]),_:1})),t("div",Ve,[t("div",je,[t("h2",null,l(n.$t("walkMode")),1),t("ul",null,[t("li",{onClick:c[2]||(c[2]=s=>r(G)("walk")),class:"item",style:{"text-align":""}},[t("span",He,[f(r(H)),$(" "+l(n.$t("add")),1)])]),(u(!0),_(S,null,T(Y.value,s=>(u(),O(W,{key:s.key,onOpenInNewTab:b=>I("local",s.dir,!0),onOpenOnTheRight:b=>L("local",s.dir,!0)},{default:h(()=>[t("li",{class:"item rem",onClick:w(b=>C("local",s.dir,!0),["prevent"])},[t("span",Be,l(s.zh),1),s.can_delete?(u(),O(p,{key:0,type:"link",onClick:w(b=>r(U)(s.dir,"walk"),["stop"])},{default:h(()=>[$(l(n.$t("remove")),1)]),_:2},1032,["onClick"])):k("",!0)],8,Fe)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])]),r(e).quickMovePaths.length?(u(),_("div",qe,[t("h2",null,l(n.$t("launchFromQuickMove")),1),t("ul",null,[t("li",{onClick:c[3]||(c[3]=s=>r(G)("scanned")),class:"item",style:{"text-align":""}},[t("span",Ge,[f(r(H)),$(" "+l(n.$t("add")),1)])]),(u(!0),_(S,null,T(r(e).quickMovePaths.filter(s=>s.type!=="walk"),s=>(u(),O(W,{key:s.key,onOpenInNewTab:b=>I("local",s.dir),onOpenOnTheRight:b=>L("local",s.dir)},{default:h(()=>[t("li",{class:"item rem",onClick:w(b=>C("local",s.dir),["prevent"])},[t("span",We,l(s.zh),1),s.can_delete&&s.type=="scanned"?(u(),O(p,{key:0,type:"link",onClick:w(b=>r(U)(s.dir,"scanned"),["stop"])},{default:h(()=>[$(l(n.$t("remove")),1)]),_:2},1032,["onClick"])):k("",!0)],8,Ue)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])])):k("",!0),t("div",Qe,[t("h2",null,l(n.$t("launch")),1),t("ul",null,[(u(!0),_(S,null,T(Object.keys(d),s=>(u(),_("li",{key:s,class:"item",onClick:w(b=>C(s),["prevent"])},[t("span",Ye,l(d[s]),1)],8,Xe))),128)),t("li",{class:"item",onClick:c[4]||(c[4]=s=>r(i).opened=!0)},[t("span",Ze,l(n.$t("imgCompare")),1)]),Z?(u(),_("li",{key:0,class:"item",onClick:J},[t("span",Je,l(n.$t("openInNewWindow")),1)])):k("",!0),(V=P.value)!=null&&V.tabs.length?(u(),_("li",{key:1,class:"item",onClick:K},[t("span",Ke,l(n.$t("restoreLastRecord")),1)])):k("",!0)])]),r(e).recent.length?(u(),_("div",et,[t("div",tt,[t("h2",null,l(n.$t("recent")),1),f(p,{onClick:c[5]||(c[5]=s=>r(e).recent=[]),type:"link"},{default:h(()=>[$(l(n.$t("clear")),1)]),_:1})]),t("ul",null,[(u(!0),_(S,null,T(r(e).recent,s=>(u(),_("li",{key:s.key,class:"item",onClick:w(b=>C("local",s.path),["prevent"])},[f(r(Oe),{class:"icon"}),t("span",at,l(s.path),1)],8,nt))),128))])])):k("",!0)])])}}});const rt=ge(st,[["__scopeId","data-v-236610db"]]);export{rt as default};
