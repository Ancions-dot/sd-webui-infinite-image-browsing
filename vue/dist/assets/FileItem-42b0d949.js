var gt=Object.defineProperty;var vt=(n,t,e)=>t in n?gt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ue=(n,t,e)=>(vt(n,typeof t!="symbol"?t+"":t,e),e);import{d as ee,u as We,z as V,aj as Ke,h as Y,c as S,am as pt,cE as mt,r as H,ba as yt,T as x,bQ as bt,P as De,c1 as At,A as W,cF as St,aX as It,cG as _t,cH as kt,G as he,ah as Se,aR as Ct,cI as wt,cJ as Et,cK as Tt,cD as Ot,cL as Pt,cM as Ye,cN as le,cO as Dt,aD as Nt,cP as zt,l as ge,k as se,aK as Qt,I as Ge,cQ as Mt,W as Ie,cr as qe,aF as $t,cR as Ze,cS as Bt,p as Ft,aI as Xe,aJ as et,av as tt,N as u,X as B,cT as Rt,cU as Lt,cV as jt,cW as Ht,cX as Vt,ap as xt,O as h,aC as te,U as A,Y as C,a2 as J,cY as Ne,bT as Ut,cZ as Jt,a1 as nt,aa as G,R as k,S as y,Z as M,ag as it,c_ as Wt,cu as Kt,M as rt,Q as a,V as st,c$ as Yt,d0 as ze,a9 as Gt,d1 as qt,ct as Zt,J as Xt,d2 as en,d3 as ce,d4 as tn}from"./index-57f41ee4.js";import{t as de,g as nn,l as rn,e as sn}from"./functionalCallableComp-12a5737a.js";import{D as Z,a as ve}from"./index-5edbc9b5.js";/* empty css              */var on=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},ln=ee({compatConfig:{MODE:3},name:"ACheckableTag",props:on(),setup:function(t,e){var i=e.slots,r=e.emit,o=We("tag",t),g=o.prefixCls,f=function(w){var E=t.checked;r("update:checked",!E),r("change",!E),r("click",w)},p=V(function(){var b;return Ke(g.value,(b={},Y(b,"".concat(g.value,"-checkable"),!0),Y(b,"".concat(g.value,"-checkable-checked"),t.checked),b))});return function(){var b;return S("span",{class:p.value,onClick:f},[(b=i.default)===null||b===void 0?void 0:b.call(i)])}}});const pe=ln;var an=new RegExp("^(".concat(pt.join("|"),")(-inverse)?$")),un=new RegExp("^(".concat(mt.join("|"),")$")),cn=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:De.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:De.any}},X=ee({compatConfig:{MODE:3},name:"ATag",props:cn(),slots:["closeIcon","icon"],setup:function(t,e){var i=e.slots,r=e.emit,o=e.attrs,g=We("tag",t),f=g.prefixCls,p=g.direction,b=H(!0);yt(function(){t.visible!==void 0&&(b.value=t.visible)});var w=function(s){s.stopPropagation(),r("update:visible",!1),r("close",s),!s.defaultPrevented&&t.visible===void 0&&(b.value=!1)},E=V(function(){var l=t.color;return l?an.test(l)||un.test(l):!1}),N=V(function(){var l;return Ke(f.value,(l={},Y(l,"".concat(f.value,"-").concat(t.color),E.value),Y(l,"".concat(f.value,"-has-color"),t.color&&!E.value),Y(l,"".concat(f.value,"-hidden"),!b.value),Y(l,"".concat(f.value,"-rtl"),p.value==="rtl"),l))});return function(){var l,s,c,v=t.icon,P=v===void 0?(l=i.icon)===null||l===void 0?void 0:l.call(i):v,T=t.color,_=t.closeIcon,d=_===void 0?(s=i.closeIcon)===null||s===void 0?void 0:s.call(i):_,m=t.closable,D=m===void 0?!1:m,z=function(){return D?d?S("span",{class:"".concat(f.value,"-close-icon"),onClick:w},[d]):S(At,{class:"".concat(f.value,"-close-icon"),onClick:w},null):null},F={backgroundColor:T&&!E.value?T:void 0},j=P||null,I=(c=i.default)===null||c===void 0?void 0:c.call(i),L=j?S(x,null,[j,S("span",null,[I])]):I,R="onClick"in o,Q=S("span",{class:N.value,style:F},[L,z()]);return R?S(bt,null,{default:function(){return[Q]}}):Q}}});X.CheckableTag=pe;X.install=function(n){return n.component(X.name,X),n.component(pe.name,pe),n};const dn=X;Z.Button=ve;Z.install=function(n){return n.component(Z.name,Z),n.component(ve.name,ve),n};var fn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};const hn=fn;function Qe(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){gn(n,r,e[r])})}return n}function gn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var _e=function(t,e){var i=Qe({},t,e.attrs);return S(W,Qe({},i,{icon:hn}),null)};_e.displayName="StarFilled";_e.inheritAttrs=!1;const ot=_e;var vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const pn=vn;function Me(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){mn(n,r,e[r])})}return n}function mn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var ke=function(t,e){var i=Me({},t,e.attrs);return S(W,Me({},i,{icon:pn}),null)};ke.displayName="FileOutlined";ke.inheritAttrs=!1;const yn=ke;var bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const An=bn;function $e(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){Sn(n,r,e[r])})}return n}function Sn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Ce=function(t,e){var i=$e({},t,e.attrs);return S(W,$e({},i,{icon:An}),null)};Ce.displayName="FolderOpenOutlined";Ce.inheritAttrs=!1;const In=Ce;function _n(n,t,e){if(!St(e))return!1;var i=typeof t;return(i=="number"?It(e)&&_t(t,e.length):i=="string"&&t in e)?kt(e[t],n):!1}function kn(n){return n&&n.length?n[0]:void 0}var Cn=Math.ceil,wn=Math.max;function En(n,t,e,i){for(var r=-1,o=wn(Cn((t-n)/(e||1)),0),g=Array(o);o--;)g[i?o:++r]=n,n+=e;return g}function Tn(n){return function(t,e,i){return i&&typeof i!="number"&&_n(t,e,i)&&(e=i=void 0),t=de(t),e===void 0?(e=t,t=0):e=de(e),i=i===void 0?t<e?1:-1:de(i),En(t,e,i,n)}}var On=Tn();const Pn=On,Dn="data:image/png;base64,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",ne=new WeakMap;function Nn(n,t){return{useHookShareState:i=>{const r=Et();he(r),ne.has(r)||(ne.set(r,Se(n(r,i??(t==null?void 0:t())))),Ct(()=>{ne.delete(r)}));const o=ne.get(r);return he(o),{state:o,toRefs(){return wt(o)}}}}}var zn={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};const Qn=zn;function Be(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){Mn(n,r,e[r])})}return n}function Mn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var we=function(t,e){var i=Be({},t,e.attrs);return S(W,Be({},i,{icon:Qn}),null)};we.displayName="CaretRightOutlined";we.inheritAttrs=!1;const Fe=we;var $n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]},name:"heart",theme:"filled"};const Bn=$n;function Re(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){Fn(n,r,e[r])})}return n}function Fn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Ee=function(t,e){var i=Re({},t,e.attrs);return S(W,Re({},i,{icon:Bn}),null)};Ee.displayName="HeartFilled";Ee.inheritAttrs=!1;const Rn=Ee;var Ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"};const jn=Ln;function Le(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){Hn(n,r,e[r])})}return n}function Hn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Te=function(t,e){var i=Le({},t,e.attrs);return S(W,Le({},i,{icon:jn}),null)};Te.displayName="HeartOutlined";Te.inheritAttrs=!1;const Vn=Te;var xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"};const Un=xn;function je(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){Jn(n,r,e[r])})}return n}function Jn(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Oe=function(t,e){var i=je({},t,e.attrs);return S(W,je({},i,{icon:Un}),null)};Oe.displayName="StarOutlined";Oe.inheritAttrs=!1;const lt=Oe,Wn="/infinite_image_browsing/fe-static/assets/play-68f5544d.svg",Kn=Tt("useBatchDownloadStore",()=>{const n=H([]);return{selectdFiles:n,addFiles:e=>{n.value=Ot([...n.value,...e])}}});class He{constructor(t,e=Pt.CREATED_TIME_DESC){ue(this,"root");ue(this,"execQueue",[]);this.sortMethod=e,this.root={children:[],info:{name:t,size:"-",bytes:0,created_time:"",is_under_scanned_path:!0,date:"",type:"dir",fullpath:t}},this.fetchChildren(this.root)}reset(){return this.root.children=[],this.fetchChildren(this.root)}get images(){const t=e=>e.children.map(i=>{if(i.info.type==="dir")return t(i);if(le(i.info.name))return i.info}).filter(i=>i).flat(1);return t(this.root)}get isCompleted(){return this.execQueue.length===0}async fetchChildren(t){const{files:e}=await nn(t.info.fullpath);return t.children=Ye(e,this.sortMethod).map(i=>({info:i,children:[]})),this.execQueue.shift(),this.execQueue.unshift(...t.children.filter(i=>i.info.type==="dir").map(i=>({fn:()=>this.fetchChildren(i),...i}))),t}async next(){const t=kn(this.execQueue);if(!t)return null;const e=await t.fn();return this.execQueue=this.execQueue.slice(),this.root={...this.root},e}}var at={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(n,t){(function(e,i){n.exports=i})(Dt,function(){var e={};e.version="0.3.5";var i=e.settings={minimum:.08,easing:"linear",positionUsing:"",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};e.configure=function(s){var c,v;for(c in s)v=s[c],v!==void 0&&s.hasOwnProperty(c)&&(i[c]=v);return this},e.status=null,e.set=function(s){var c=e.isStarted();s=r(s,i.minimum,1),e.status=s===1?null:s;var v=e.render(!c),P=v.querySelector(i.barSelector),T=i.speed,_=i.easing;return v.offsetWidth,f(function(d){i.positionUsing===""&&(i.positionUsing=e.getPositioningCSS()),p(P,g(s,T,_)),s===1?(p(v,{transition:"none",opacity:1}),v.offsetWidth,setTimeout(function(){p(v,{transition:"all "+T+"ms linear",opacity:0}),setTimeout(function(){e.remove(),d()},T)},T)):setTimeout(d,T)}),this},e.isStarted=function(){return typeof e.status=="number"},e.start=function(){e.status||e.set(0);var s=function(){setTimeout(function(){e.status&&(e.trickle(),s())},i.trickleSpeed)};return i.trickle&&s(),this},e.done=function(s){return!s&&!e.status?this:e.inc(.3+.5*Math.random()).set(1)},e.inc=function(s){var c=e.status;return c?c>1?void 0:(typeof s!="number"&&(c>=0&&c<.2?s=.1:c>=.2&&c<.5?s=.04:c>=.5&&c<.8?s=.02:c>=.8&&c<.99?s=.005:s=0),c=r(c+s,0,.994),e.set(c)):e.start()},e.trickle=function(){return e.inc()},function(){var s=0,c=0;e.promise=function(v){return!v||v.state()==="resolved"?this:(c===0&&e.start(),s++,c++,v.always(function(){c--,c===0?(s=0,e.done()):e.set((s-c)/s)}),this)}}(),e.getElement=function(){var s=e.getParent();if(s){var c=Array.prototype.slice.call(s.querySelectorAll(".nprogress")).filter(function(v){return v.parentElement===s});if(c.length>0)return c[0]}return null},e.getParent=function(){if(i.parent instanceof HTMLElement)return i.parent;if(typeof i.parent=="string")return document.querySelector(i.parent)},e.render=function(s){if(e.isRendered())return e.getElement();w(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.className="nprogress",c.innerHTML=i.template;var v=c.querySelector(i.barSelector),P=s?"-100":o(e.status||0),T=e.getParent(),_;return p(v,{transition:"all 0 linear",transform:"translate3d("+P+"%,0,0)"}),i.showSpinner||(_=c.querySelector(i.spinnerSelector),_&&l(_)),T!=document.body&&w(T,"nprogress-custom-parent"),T.appendChild(c),c},e.remove=function(){e.status=null,E(document.documentElement,"nprogress-busy"),E(e.getParent(),"nprogress-custom-parent");var s=e.getElement();s&&l(s)},e.isRendered=function(){return!!e.getElement()},e.getPositioningCSS=function(){var s=document.body.style,c="WebkitTransform"in s?"Webkit":"MozTransform"in s?"Moz":"msTransform"in s?"ms":"OTransform"in s?"O":"";return c+"Perspective"in s?"translate3d":c+"Transform"in s?"translate":"margin"};function r(s,c,v){return s<c?c:s>v?v:s}function o(s){return(-1+s)*100}function g(s,c,v){var P;return i.positionUsing==="translate3d"?P={transform:"translate3d("+o(s)+"%,0,0)"}:i.positionUsing==="translate"?P={transform:"translate("+o(s)+"%,0)"}:P={"margin-left":o(s)+"%"},P.transition="all "+c+"ms "+v,P}var f=function(){var s=[];function c(){var v=s.shift();v&&v(c)}return function(v){s.push(v),s.length==1&&c()}}(),p=function(){var s=["Webkit","O","Moz","ms"],c={};function v(d){return d.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(m,D){return D.toUpperCase()})}function P(d){var m=document.body.style;if(d in m)return d;for(var D=s.length,z=d.charAt(0).toUpperCase()+d.slice(1),F;D--;)if(F=s[D]+z,F in m)return F;return d}function T(d){return d=v(d),c[d]||(c[d]=P(d))}function _(d,m,D){m=T(m),d.style[m]=D}return function(d,m){var D=arguments,z,F;if(D.length==2)for(z in m)F=m[z],F!==void 0&&m.hasOwnProperty(z)&&_(d,z,F);else _(d,D[1],D[2])}}();function b(s,c){var v=typeof s=="string"?s:N(s);return v.indexOf(" "+c+" ")>=0}function w(s,c){var v=N(s),P=v+c;b(v,c)||(s.className=P.substring(1))}function E(s,c){var v=N(s),P;b(s,c)&&(P=v.replace(" "+c+" "," "),s.className=P.substring(1,P.length-1))}function N(s){return(" "+(s&&s.className||"")+" ").replace(/\s+/gi," ")}function l(s){s&&s.parentNode&&s.parentNode.removeChild(s)}return e})})(at);var Yn=at.exports;const fs=Nt(Yn);function hs({fetchNext:n}={}){const{scroller:t,sortedFiles:e,sortMethod:i,currLocation:r,stackViewEl:o,canLoadNext:g,previewIdx:f,props:p,walker:b}=oe().toRefs(),{state:w}=oe(),E=H(!1),N=H(q.defaultGridCellWidth),l=V(()=>N.value+16),s=44,{width:c}=zt(o),v=V(()=>~~(c.value/l.value)),P=Se(new Map),T=V(()=>{const j=l.value;return{first:j+(N.value<=160?0:s),second:j}}),_=H(!1),d=async()=>{var j;if(!(_.value||p.value.mode!=="walk"||!g.value))try{_.value=!0,await((j=b.value)==null?void 0:j.next())}finally{_.value=!1}},m=async(j=!1)=>{const I=t.value,L=()=>j?f.value:(I==null?void 0:I.$_endIndex)??0,R=()=>{const Q=e.value.length,$=50;return Q?n?L()>Q-$:L()>Q-$&&g.value:!0};for(;R();){await Ge(30);const Q=await(n??d)();if(typeof Q=="boolean"&&!Q)return}};w.useEventListen("loadNextDir",async()=>{await m(),p.value.mode==="walk"&&z()});const z=ge(()=>{const j=t.value;if(j){const I=Math.max(j.$_startIndex-10,0),L=e.value.slice(I,j.$_endIndex+10);w.eventEmitter.emit("viewableAreaFilesChange",{files:L,startIdx:I});const R=L.filter($=>$.is_under_scanned_path&&le($.name)).map($=>$.fullpath);Gn.fetchImageTags(R);const Q=L.filter($=>$.is_under_scanned_path&&$.type==="dir"&&!P.has($.fullpath)).map($=>$.fullpath);Q.length&&Mt(Q).then($=>{for(const K in $)if(Object.prototype.hasOwnProperty.call($,K)){const U=$[K];P.set(K,U)}})}},300);se(r,z);const F=ge(async()=>{await m(),z()},150);return{gridItems:v,sortedFiles:e,sortMethodConv:Qt,moreActionsDropdownShow:E,gridSize:l,sortMethod:i,onScroll:F,loadNextDir:d,loadNextDirLoading:_,canLoadNext:g,itemSize:T,cellWidth:N,dirCoverCache:P}}const gs=new Map,q=Ie(),vs=Kn(),Gn=qe(),ps=$t(),ms=new BroadcastChannel("iib-image-transfer-bus"),{eventEmitter:ys,useEventListen:bs}=Ze(),{useHookShareState:oe}=Nn((n,{images:t})=>{const e=H({tabIdx:-1,paneIdx:-1}),i=V(()=>rn(r.value)),r=H([]),o=V(()=>{var _;return r.value.map(d=>d.curr).slice((_=q.conf)!=null&&_.is_win&&e.value.mode!=="scanned-fixed"?1:0)}),g=V(()=>Ft(...o.value)),f=V(()=>{var _,d;return e.value.mode==="scanned-fixed"?((d=(_=r.value)==null?void 0:_[0])==null?void 0:d.curr)??"":e.value.mode==="walk"?e.value.path??"":r.value.length===1?"/":g.value}),p=H(q.defaultSortingMethod),b=H(e.value.mode=="walk"?new He(e.value.path,p.value):void 0);se([()=>e.value.mode,()=>e.value.path,p],async([_,d,m])=>{var D;_==="walk"?(b.value=new He(d,m),r.value=[{files:[],curr:d}],await Ge(),await((D=b.value)==null?void 0:D.reset()),T.eventEmitter.emit("loadNextDir")):b.value=void 0});const w=Se(new Set);se(i,()=>w.clear());const E=V(()=>{var D;if(t.value)return t.value;if(b.value)return b.value.images.filter(z=>!w.has(z.fullpath));if(!i.value)return[];const _=((D=i.value)==null?void 0:D.files)??[],d=p.value;return Ye((z=>q.onlyFoldersAndImages?z.filter(F=>F.type==="dir"||le(F.name)):z)(_),d).filter(z=>!w.has(z.fullpath))}),N=H([]),l=H(-1),s=V(()=>b.value?!b.value.isCompleted:!1),c=H(!1),v=H(!1),P=()=>{var _,d,m;return(m=(d=(_=q.tabList)==null?void 0:_[e.value.tabIdx])==null?void 0:d.panes)==null?void 0:m[e.value.paneIdx]},T=Ze();return T.useEventListen("selectAll",()=>{console.log(`select all 0 -> ${E.value.length}`),N.value=Pn(0,E.value.length)}),{previewing:v,spinning:c,canLoadNext:s,multiSelectedIdxs:N,previewIdx:l,basePath:o,currLocation:f,currPage:i,stack:r,sortMethod:p,sortedFiles:E,scroller:H(),stackViewEl:H(),props:e,getPane:P,walker:b,deletedFiles:w,...T}},()=>({images:H()}));function As(){const{eventEmitter:n,multiSelectedIdxs:t,sortedFiles:e}=oe().toRefs();return{onSelectAll:()=>n.value.emit("selectAll"),onReverseSelect:()=>{t.value=e.value.map((g,f)=>f).filter(g=>!t.value.includes(g))},onClearAllSelected:()=>{t.value=[]}}}const Ss=()=>{const{stackViewEl:n}=oe().toRefs(),t=H(-1);return Bt(n,e=>{var r;let i=e.target;for(;i.parentElement;)if(i=i.parentElement,i.tagName.toLowerCase()==="li"&&i.classList.contains("file-item-trigger")){const o=(r=i.dataset)==null?void 0:r.idx;o&&Number.isSafeInteger(+o)&&(t.value=+o);return}}),{showMenuIdx:t}};function qn(){var n=window.navigator.userAgent,t=n.indexOf("MSIE ");if(t>0)return parseInt(n.substring(t+5,n.indexOf(".",t)),10);var e=n.indexOf("Trident/");if(e>0){var i=n.indexOf("rv:");return parseInt(n.substring(i+3,n.indexOf(".",i)),10)}var r=n.indexOf("Edge/");return r>0?parseInt(n.substring(r+5,n.indexOf(".",r)),10):-1}let ie;function me(){me.init||(me.init=!0,ie=qn()!==-1)}var ae={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){me(),tt(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const n=document.createElement("object");this._resizeObject=n,n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex",-1),n.onload=this.addResizeHandlers,n.type="text/html",ie&&this.$el.appendChild(n),n.data="about:blank",ie||this.$el.appendChild(n)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!ie&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Zn=Rt();Xe("data-v-b329ee4c");const Xn={class:"resize-observer",tabindex:"-1"};et();const ei=Zn((n,t,e,i,r,o)=>(u(),B("div",Xn)));ae.render=ei;ae.__scopeId="data-v-b329ee4c";ae.__file="src/components/ResizeObserver.vue";function re(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?re=function(t){return typeof t}:re=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(n)}function ti(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function ni(n,t,e){return t&&Ve(n.prototype,t),e&&Ve(n,e),n}function xe(n){return ii(n)||ri(n)||si(n)||oi()}function ii(n){if(Array.isArray(n))return ye(n)}function ri(n){if(typeof Symbol<"u"&&Symbol.iterator in Object(n))return Array.from(n)}function si(n,t){if(n){if(typeof n=="string")return ye(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ye(n,t)}}function ye(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function oi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function li(n){var t;return typeof n=="function"?t={callback:n}:t=n,t}function ai(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,r,o,g=function(p){for(var b=arguments.length,w=new Array(b>1?b-1:0),E=1;E<b;E++)w[E-1]=arguments[E];if(o=w,!(i&&p===r)){var N=e.leading;typeof N=="function"&&(N=N(p,r)),(!i||p!==r)&&N&&n.apply(void 0,[p].concat(xe(o))),r=p,clearTimeout(i),i=setTimeout(function(){n.apply(void 0,[p].concat(xe(o))),i=0},t)}};return g._clear=function(){clearTimeout(i),i=null},g}function ut(n,t){if(n===t)return!0;if(re(n)==="object"){for(var e in n)if(!ut(n[e],t[e]))return!1;return!0}return!1}var ui=function(){function n(t,e,i){ti(this,n),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(e,i)}return ni(n,[{key:"createObserver",value:function(e,i){var r=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=li(e),this.callback=function(f,p){r.options.callback(f,p),f&&r.options.once&&(r.frozen=!0,r.destroyObserver())},this.callback&&this.options.throttle){var o=this.options.throttleOptions||{},g=o.leading;this.callback=ai(this.callback,this.options.throttle,{leading:function(p){return g==="both"||g==="visible"&&p||g==="hidden"&&!p}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(f){var p=f[0];if(f.length>1){var b=f.find(function(E){return E.isIntersecting});b&&(p=b)}if(r.callback){var w=p.isIntersecting&&p.intersectionRatio>=r.threshold;if(w===r.oldResult)return;r.oldResult=w,r.callback(w,p)}},this.options.intersection),tt(function(){r.observer&&r.observer.observe(r.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&typeof this.options.intersection.threshold=="number"?this.options.intersection.threshold:0}}]),n}();function ct(n,t,e){var i=t.value;if(i)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var r=new ui(n,i,e);n._vue_visibilityState=r}}function ci(n,t,e){var i=t.value,r=t.oldValue;if(!ut(i,r)){var o=n._vue_visibilityState;if(!i){dt(n);return}o?o.createObserver(i,e):ct(n,{value:i},e)}}function dt(n){var t=n._vue_visibilityState;t&&(t.destroyObserver(),delete n._vue_visibilityState)}var di={beforeMount:ct,updated:ci,unmounted:dt},fi={itemsLimit:1e3},hi=/(auto|scroll)/;function ft(n,t){return n.parentNode===null?t:ft(n.parentNode,t.concat([n]))}var fe=function(t,e){return getComputedStyle(t,null).getPropertyValue(e)},gi=function(t){return fe(t,"overflow")+fe(t,"overflow-y")+fe(t,"overflow-x")},vi=function(t){return hi.test(gi(t))};function Ue(n){if(n instanceof HTMLElement||n instanceof SVGElement){for(var t=ft(n.parentNode,[]),e=0;e<t.length;e+=1)if(vi(t[e]))return t[e];return document.scrollingElement||document.documentElement}}function be(n){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},be(n)}var pi={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(t){return["vertical","horizontal"].includes(t)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function mi(){return this.items.length&&be(this.items[0])!=="object"}var Ae=!1;if(typeof window<"u"){Ae=!1;try{var yi=Object.defineProperty({},"passive",{get:function(){Ae=!0}});window.addEventListener("test",null,yi)}catch{}}let bi=0;var ht={name:"RecycleScroller",components:{ResizeObserver:ae},directives:{ObserveVisibility:di},props:{...pi,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}},emits:["resize","visible","hidden","update","scroll-start","scroll-end"],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){const n={"-1":{accumulator:0}},t=this.items,e=this.sizeField,i=this.minItemSize;let r=1e4,o=0,g;for(let f=0,p=t.length;f<p;f++)g=t[f][e]||i,g<r&&(r=g),o+=g,n[f]={accumulator:o,size:g};return this.$_computedMinItemSize=r,n}return[]},simpleArray:mi,itemIndexByKey(){const{keyField:n,items:t}=this,e={};for(let i=0,r=t.length;i<r;i++)e[t[i][n]]=i;return e}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){const n=this.$_lastUpdateScrollPosition;typeof n=="number"&&this.$nextTick(()=>{this.scrollToPosition(n)})},beforeUnmount(){this.removeListeners()},methods:{addView(n,t,e,i,r){const o=Lt({id:bi++,index:t,used:!0,key:i,type:r}),g=jt({item:e,position:0,nr:o});return n.push(g),g},unuseView(n,t=!1){const e=this.$_unusedViews,i=n.nr.type;let r=e.get(i);r||(r=[],e.set(i,r)),r.push(n),t||(n.nr.used=!1,n.position=-9999)},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(n){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;const t=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;const{continuous:e}=this.updateVisibleItems(!1,!0);e||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});t(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&t()},this.updateInterval))}},handleVisibilityChange(n,t){this.ready&&(n||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems(n,t=!1){const e=this.itemSize,i=this.gridItems||1,r=this.itemSecondarySize||e,o=this.$_computedMinItemSize,g=this.typeField,f=this.simpleArray?null:this.keyField,p=this.items,b=p.length,w=this.sizes,E=this.$_views,N=this.$_unusedViews,l=this.pool,s=this.itemIndexByKey;let c,v,P,T,_;if(!b)c=v=T=_=P=0;else if(this.$_prerender)c=T=0,v=_=Math.min(this.prerender,p.length),P=null;else{const I=this.getScroll();if(t){let Q=I.start-this.$_lastUpdateScrollPosition;if(Q<0&&(Q=-Q),e===null&&Q<o||Q<e)return{continuous:!0}}this.$_lastUpdateScrollPosition=I.start;const L=this.buffer;I.start-=L,I.end+=L;let R=0;if(this.$refs.before&&(R=this.$refs.before.scrollHeight,I.start-=R),this.$refs.after){const Q=this.$refs.after.scrollHeight;I.end+=Q}if(e===null){let Q,$=0,K=b-1,U=~~(b/2),Pe;do Pe=U,Q=w[U].accumulator,Q<I.start?$=U:U<b-1&&w[U+1].accumulator>I.start&&(K=U),U=~~(($+K)/2);while(U!==Pe);for(U<0&&(U=0),c=U,P=w[b-1].accumulator,v=U;v<b&&w[v].accumulator<I.end;v++);for(v===-1?v=p.length-1:(v++,v>b&&(v=b)),T=c;T<b&&R+w[T].accumulator<I.start;T++);for(_=T;_<b&&R+w[_].accumulator<I.end;_++);}else{c=~~(I.start/e*i);const Q=c%i;c-=Q,v=Math.ceil(I.end/e*i),T=Math.max(0,Math.floor((I.start-R)/e*i)),_=Math.floor((I.end-R)/e*i),c<0&&(c=0),v>b&&(v=b),T<0&&(T=0),_>b&&(_=b),P=Math.ceil(b/i)*e}}v-c>fi.itemsLimit&&this.itemsLimitError(),this.totalSize=P;let d;const m=c<=this.$_endIndex&&v>=this.$_startIndex;if(m)for(let I=0,L=l.length;I<L;I++)d=l[I],d.nr.used&&(n&&(d.nr.index=s[d.item[f]]),(d.nr.index==null||d.nr.index<c||d.nr.index>=v)&&this.unuseView(d));const D=m?null:new Map;let z,F,j;for(let I=c;I<v;I++){z=p[I];const L=f?z[f]:z;if(L==null)throw new Error(`Key is ${L} on item (keyField is '${f}')`);if(d=E.get(L),!e&&!w[I].size){d&&this.unuseView(d);continue}F=z[g];let R=N.get(F),Q=!1;if(!d)m?R&&R.length?d=R.pop():d=this.addView(l,I,z,L,F):(j=D.get(F)||0,(!R||j>=R.length)&&(d=this.addView(l,I,z,L,F),this.unuseView(d,!0),R=N.get(F)),d=R[j],D.set(F,j+1)),E.delete(d.nr.key),d.nr.used=!0,d.nr.index=I,d.nr.key=L,d.nr.type=F,E.set(L,d),Q=!0;else if(!d.nr.used&&(d.nr.used=!0,d.nr.index=I,Q=!0,R)){const $=R.indexOf(d);$!==-1&&R.splice($,1)}d.item=z,Q&&(I===p.length-1&&this.$emit("scroll-end"),I===0&&this.$emit("scroll-start")),e===null?(d.position=w[I-1].accumulator,d.offset=0):(d.position=Math.floor(I/i)*e,d.offset=I%i*r)}return this.$_startIndex=c,this.$_endIndex=v,this.emitUpdate&&this.$emit("update",c,v,T,_),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:m}},getListenerTarget(){let n=Ue(this.$el);return window.document&&(n===window.document.documentElement||n===window.document.body)&&(n=window),n},getScroll(){const{$el:n,direction:t}=this,e=t==="vertical";let i;if(this.pageMode){const r=n.getBoundingClientRect(),o=e?r.height:r.width;let g=-(e?r.top:r.left),f=e?window.innerHeight:window.innerWidth;g<0&&(f+=g,g=0),g+f>o&&(f=o-g),i={start:g,end:g+f}}else e?i={start:n.scrollTop,end:n.scrollTop+n.clientHeight}:i={start:n.scrollLeft,end:n.scrollLeft+n.clientWidth};return i},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,Ae?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(n){let t;const e=this.gridItems||1;this.itemSize===null?t=n>0?this.sizes[n-1].accumulator:0:t=Math.floor(n/e)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(n){const t=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"};let e,i,r;if(this.pageMode){const o=Ue(this.$el),g=o.tagName==="HTML"?0:o[t.scroll],f=o.getBoundingClientRect(),b=this.$el.getBoundingClientRect()[t.start]-f[t.start];e=o,i=t.scroll,r=n+g+b}else e=this.$el,i=t.scroll,r=n;e[i]=r},itemsLimitError(){throw setTimeout(()=>{console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",this.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((n,t)=>n.nr.index-t.nr.index)}}};const Ai={key:0,ref:"before",class:"vue-recycle-scroller__slot"},Si={key:1,ref:"after",class:"vue-recycle-scroller__slot"};function Ii(n,t,e,i,r,o){const g=Ht("ResizeObserver"),f=Vt("observe-visibility");return xt((u(),h("div",{class:G(["vue-recycle-scroller",{ready:r.ready,"page-mode":e.pageMode,[`direction-${n.direction}`]:!0}]),onScrollPassive:t[0]||(t[0]=(...p)=>o.handleScroll&&o.handleScroll(...p))},[n.$slots.before?(u(),h("div",Ai,[te(n.$slots,"before")],512)):A("v-if",!0),(u(),B(Ne(e.listTag),{ref:"wrapper",style:nt({[n.direction==="vertical"?"minHeight":"minWidth"]:r.totalSize+"px"}),class:G(["vue-recycle-scroller__item-wrapper",e.listClass])},{default:C(()=>[(u(!0),h(x,null,J(r.pool,p=>(u(),B(Ne(e.itemTag),Ut({key:p.nr.id,style:r.ready?{transform:`translate${n.direction==="vertical"?"Y":"X"}(${p.position}px) translate${n.direction==="vertical"?"X":"Y"}(${p.offset}px)`,width:e.gridItems?`${n.direction==="vertical"&&e.itemSecondarySize||e.itemSize}px`:void 0,height:e.gridItems?`${n.direction==="horizontal"&&e.itemSecondarySize||e.itemSize}px`:void 0}:null,class:["vue-recycle-scroller__item-view",[e.itemClass,{hover:!e.skipHover&&r.hoverKey===p.nr.key}]]},Jt(e.skipHover?{}:{mouseenter:()=>{r.hoverKey=p.nr.key},mouseleave:()=>{r.hoverKey=null}})),{default:C(()=>[te(n.$slots,"default",{item:p.item,index:p.nr.index,active:p.nr.used})]),_:2},1040,["style","class"]))),128)),te(n.$slots,"empty")]),_:3},8,["style","class"])),n.$slots.after?(u(),h("div",Si,[te(n.$slots,"after")],512)):A("v-if",!0),S(g,{onNotify:o.handleResize},null,8,["onNotify"])],34)),[[f,o.handleVisibilityChange]])}ht.render=Ii;ht.__file="src/components/RecycleScroller.vue";const Je=ee({__name:"ContextMenu",props:{file:{},idx:{},selectedTag:{},disableDelete:{type:Boolean},isSelectedMutilFiles:{type:Boolean}},emits:["contextMenuClick"],setup(n,{emit:t}){const e=n,i=Ie(),r=V(()=>{var o;return(((o=i.conf)==null?void 0:o.all_custom_tags)??[]).reduce((g,f)=>[...g,{...f,selected:!!e.selectedTag.find(p=>p.id===f.id)}],[])});return(o,g)=>{const f=it,p=Wt,b=Kt,w=rt;return u(),B(w,{onClick:g[0]||(g[0]=E=>t("contextMenuClick",E,o.file,o.idx))},{default:C(()=>{var E;return[S(f,{key:"deleteFiles",disabled:o.disableDelete},{default:C(()=>[k(y(o.$t("deleteSelected")),1)]),_:1},8,["disabled"]),S(f,{key:"openWithDefaultApp"},{default:C(()=>[k(y(o.$t("openWithDefaultApp")),1)]),_:1}),S(f,{key:"saveSelectedAsJson"},{default:C(()=>[k(y(o.$t("saveSelectedAsJson")),1)]),_:1}),o.file.type==="dir"?(u(),h(x,{key:0},[S(f,{key:"openInNewTab"},{default:C(()=>[k(y(o.$t("openInNewTab")),1)]),_:1}),S(f,{key:"openOnTheRight"},{default:C(()=>[k(y(o.$t("openOnTheRight")),1)]),_:1}),S(f,{key:"openWithWalkMode"},{default:C(()=>[k(y(o.$t("openWithWalkMode")),1)]),_:1})],64)):A("",!0),o.file.type==="file"?(u(),h(x,{key:1},[M(le)(o.file.name)?(u(),h(x,{key:0},[S(f,{key:"viewGenInfo"},{default:C(()=>[k(y(o.$t("viewGenerationInfo")),1)]),_:1}),S(p),((E=M(i).conf)==null?void 0:E.launch_mode)!=="server"?(u(),h(x,{key:0},[S(f,{key:"send2txt2img"},{default:C(()=>[k(y(o.$t("sendToTxt2img")),1)]),_:1}),S(f,{key:"send2img2img"},{default:C(()=>[k(y(o.$t("sendToImg2img")),1)]),_:1}),S(f,{key:"send2inpaint"},{default:C(()=>[k(y(o.$t("sendToInpaint")),1)]),_:1}),S(f,{key:"send2extras"},{default:C(()=>[k(y(o.$t("sendToExtraFeatures")),1)]),_:1}),S(b,{key:"sendToThirdPartyExtension",title:o.$t("sendToThirdPartyExtension")},{default:C(()=>[S(f,{key:"send2controlnet-txt2img"},{default:C(()=>[k("ControlNet - "+y(o.$t("t2i")),1)]),_:1}),S(f,{key:"send2controlnet-img2img"},{default:C(()=>[k("ControlNet - "+y(o.$t("i2i")),1)]),_:1}),S(f,{key:"send2outpaint"},{default:C(()=>[k("openOutpaint")]),_:1})]),_:1},8,["title"])],64)):A("",!0),S(f,{key:"rename"},{default:C(()=>[k(y(o.$t("rename")),1)]),_:1}),S(f,{key:"send2BatchDownload"},{default:C(()=>[k(y(o.$t("sendToBatchDownload")),1)]),_:1}),S(f,{key:"send2savedDir"},{default:C(()=>[k(y(o.$t("send2savedDir")),1)]),_:1}),S(p),o.isSelectedMutilFiles?(u(),h(x,{key:1},[S(b,{key:"batch-add-tag",title:o.$t("batchAddTag")},{default:C(()=>[(u(!0),h(x,null,J(r.value,N=>(u(),B(f,{key:`batch-add-tag-${N.id}`},{default:C(()=>[k(y(N.name),1)]),_:2},1024))),128))]),_:1},8,["title"]),S(b,{key:"batch-remove-tag",title:o.$t("batchRemoveTag")},{default:C(()=>[(u(!0),h(x,null,J(r.value,N=>(u(),B(f,{key:`batch-remove-tag-${N.id}`},{default:C(()=>[k(y(N.name),1)]),_:2},1024))),128))]),_:1},8,["title"])],64)):(u(),B(b,{key:"toggle-tag",title:o.$t("toggleTag")},{default:C(()=>[(u(!0),h(x,null,J(r.value,N=>(u(),B(f,{key:`toggle-tag-${N.id}`},{default:C(()=>[k(y(N.name)+" ",1),N.selected?(u(),B(M(ot),{key:0})):(u(),B(M(lt),{key:1}))]),_:2},1024))),128))]),_:1},8,["title"])),S(f,{key:"openWithLocalFileBrowser"},{default:C(()=>[k(y(o.$t("openWithLocalFileBrowser")),1)]),_:1})],64)):A("",!0),S(f,{key:"previewInNewWindow"},{default:C(()=>[k(y(o.$t("previewInNewWindow")),1)]),_:1}),S(f,{key:"download"},{default:C(()=>[k(y(o.$t("download")),1)]),_:1}),S(f,{key:"copyPreviewUrl"},{default:C(()=>[k(y(o.$t("copySourceFilePreviewLink")),1)]),_:1})],64)):A("",!0)]}),_:1})}}}),O=n=>(Xe("data-v-78cd67a3"),n=n(),et(),n),_i={class:"changeIndicatorWrapper"},ki={key:0,class:"changeIndicatorsLeft changeIndicators"},Ci={key:0,class:"promptChangeIndicator changeIndicator"},wi={key:1,class:"negpromptChangeIndicator changeIndicator"},Ei={key:2,class:"seedChangeIndicator changeIndicator"},Ti={key:3,class:"stepsChangeIndicator changeIndicator"},Oi={key:4,class:"cfgChangeIndicator changeIndicator"},Pi={key:5,class:"sizeChangeIndicator changeIndicator"},Di={key:6,class:"modelChangeIndicator changeIndicator"},Ni={key:7,class:"samplerChangeIndicator changeIndicator"},zi={key:8,class:"otherChangeIndicator changeIndicator"},Qi={class:"hoverOverlay"},Mi=O(()=>a("strong",null,"This file",-1)),$i=O(()=>a("br",null,null,-1)),Bi=O(()=>a("br",null,null,-1)),Fi={key:0},Ri=O(()=>a("td",null,[a("span",{class:"promptChangeIndicator"},"+ Prompt")],-1)),Li={key:1},ji=O(()=>a("td",null,[a("span",{class:"negpromptChangeIndicator"},"- Prompt")],-1)),Hi={key:2},Vi=O(()=>a("td",null,[a("span",{class:"seedChangeIndicator"},"Seed")],-1)),xi={key:3},Ui=O(()=>a("td",null,[a("span",{class:"stepsChangeIndicator"},"Steps")],-1)),Ji={key:4},Wi=O(()=>a("td",null,[a("span",{class:"cfgChangeIndicator"},"Cfg Scale")],-1)),Ki={key:5},Yi=O(()=>a("td",null,[a("span",{class:"sizeChangeIndicator"},"Size")],-1)),Gi={key:6},qi=O(()=>a("td",null,[a("span",{class:"modelChangeIndicator"},"Model")],-1)),Zi=O(()=>a("br",null,null,-1)),Xi={key:7},er=O(()=>a("td",null,[a("span",{class:"samplerChangeIndicator"},"Sampler")],-1)),tr=O(()=>a("br",null,null,-1)),nr=O(()=>a("br",null,null,-1)),ir={key:0},rr=O(()=>a("span",{class:"otherChangeIndicator"},"Other",-1)),sr=O(()=>a("br",null,null,-1)),or=O(()=>a("br",null,null,-1)),lr={key:1,class:"changeIndicatorsRight changeIndicators"},ar={key:0,class:"promptChangeIndicator changeIndicator"},ur={key:1,class:"negpromptChangeIndicator changeIndicator"},cr={key:2,class:"seedChangeIndicator changeIndicator"},dr={key:3,class:"stepsChangeIndicator changeIndicator"},fr={key:4,class:"cfgChangeIndicator changeIndicator"},hr={key:5,class:"sizeChangeIndicator changeIndicator"},gr={key:6,class:"modelChangeIndicator changeIndicator"},vr={key:7,class:"samplerChangeIndicator changeIndicator"},pr={key:8,class:"otherChangeIndicator changeIndicator"},mr={class:"hoverOverlay"},yr=O(()=>a("strong",null,"This file",-1)),br=O(()=>a("br",null,null,-1)),Ar=O(()=>a("br",null,null,-1)),Sr={key:0},Ir=O(()=>a("td",null,[a("span",{class:"promptChangeIndicator"},"+ Prompt")],-1)),_r={key:1},kr=O(()=>a("td",null,[a("span",{class:"negpromptChangeIndicator"},"- Prompt")],-1)),Cr={key:2},wr=O(()=>a("td",null,[a("span",{class:"seedChangeIndicator"},"Seed")],-1)),Er={key:3},Tr=O(()=>a("td",null,[a("span",{class:"stepsChangeIndicator"},"Steps")],-1)),Or={key:4},Pr=O(()=>a("td",null,[a("span",{class:"cfgChangeIndicator"},"Cfg Scale")],-1)),Dr={key:5},Nr=O(()=>a("td",null,[a("span",{class:"sizeChangeIndicator"},"Size")],-1)),zr={key:6},Qr=O(()=>a("td",null,[a("span",{class:"modelChangeIndicator"},"Model")],-1)),Mr=O(()=>a("br",null,null,-1)),$r={key:7},Br=O(()=>a("td",null,[a("span",{class:"samplerChangeIndicator"},"Sampler")],-1)),Fr=O(()=>a("br",null,null,-1)),Rr=O(()=>a("br",null,null,-1)),Lr={key:0},jr=O(()=>a("span",{class:"otherChangeIndicator"},"Other",-1)),Hr=O(()=>a("br",null,null,-1)),Vr=O(()=>a("br",null,null,-1)),xr=ee({__name:"ChangeIndicator",props:{genDiffToPrevious:{},genDiffToNext:{},genInfo:{}},setup(n){function t(i){const r=["prompt","negativePrompt","seed","steps","cfgScale","size","Model","others"],o=Object.keys(i).filter(g=>!r.includes(g));return Object.fromEntries(o.map(g=>[g,i[g]]))}function e(i){return Object.keys(t(i)).length>0}return(i,r)=>(u(),h("div",_i,[i.genDiffToPrevious.empty?A("",!0):(u(),h("div",ki,["prompt"in i.genDiffToPrevious.diff?(u(),h("div",Ci,"P+")):A("",!0),"negativePrompt"in i.genDiffToPrevious.diff?(u(),h("div",wi,"P-")):A("",!0),"seed"in i.genDiffToPrevious.diff?(u(),h("div",Ei,"Se")):A("",!0),"steps"in i.genDiffToPrevious.diff?(u(),h("div",Ti,"St")):A("",!0),"cfgScale"in i.genDiffToPrevious.diff?(u(),h("div",Oi,"Cf")):A("",!0),"size"in i.genDiffToPrevious.diff?(u(),h("div",Pi,"Si")):A("",!0),"Model"in i.genDiffToPrevious.diff?(u(),h("div",Di,"Mo")):A("",!0),"Sampler"in i.genDiffToPrevious.diff?(u(),h("div",Ni,"Sa")):A("",!0),e(i.genDiffToPrevious.diff)?(u(),h("div",zi,"Ot")):A("",!0)])),a("div",Qi,[a("small",null,[S(M(Fe)),Mi,k(" vs "+y(i.genDiffToPrevious.otherFile)+" ",1),$i,Bi,a("table",null,["prompt"in i.genDiffToPrevious.diff?(u(),h("tr",Fi,[Ri,a("td",null,y(i.genDiffToPrevious.diff.prompt)+" tokens changed",1)])):A("",!0),"negativePrompt"in i.genDiffToPrevious.diff?(u(),h("tr",Li,[ji,a("td",null,y(i.genDiffToPrevious.diff.negativePrompt)+" tokens changed",1)])):A("",!0),"seed"in i.genDiffToPrevious.diff?(u(),h("tr",Hi,[Vi,a("td",null,[a("strong",null,y(i.genDiffToPrevious.diff.seed[0]),1),k(" vs "+y(i.genDiffToPrevious.diff.seed[1]),1)])])):A("",!0),"steps"in i.genDiffToPrevious.diff?(u(),h("tr",xi,[Ui,a("td",null,[a("strong",null,y(i.genDiffToPrevious.diff.steps[0]),1),k(" vs "+y(i.genDiffToPrevious.diff.steps[1]),1)])])):A("",!0),"cfgScale"in i.genDiffToPrevious.diff?(u(),h("tr",Ji,[Wi,a("td",null,[a("strong",null,y(i.genDiffToPrevious.diff.cfgScale[0]),1),k(" vs "+y(i.genDiffToPrevious.diff.cfgScale[1]),1)])])):A("",!0),"size"in i.genDiffToPrevious.diff?(u(),h("tr",Ki,[Yi,a("td",null,[a("strong",null,y(i.genDiffToPrevious.diff.size[0]),1),k(" vs "+y(i.genDiffToPrevious.diff.size[1]),1)])])):A("",!0),"Model"in i.genDiffToPrevious.diff?(u(),h("tr",Gi,[qi,a("td",null,[a("strong",null,y(i.genDiffToPrevious.diff.Model[0]),1),Zi,k(" vs "+y(i.genDiffToPrevious.diff.Model[1]),1)])])):A("",!0),"Sampler"in i.genDiffToPrevious.diff?(u(),h("tr",Xi,[er,a("td",null,[a("strong",null,y(i.genDiffToPrevious.diff.Sampler[0]),1),tr,k(" vs "+y(i.genDiffToPrevious.diff.Sampler[1]),1)])])):A("",!0)]),nr,e(i.genDiffToPrevious.diff)?(u(),h("div",ir,[rr,k(" props that changed:"),sr,or,a("ul",null,[(u(!0),h(x,null,J(t(i.genDiffToPrevious.diff),(o,g)=>(u(),h("li",null,y(g),1))),256))])])):A("",!0)])]),i.genDiffToNext.empty?A("",!0):(u(),h("div",lr,["prompt"in i.genDiffToNext.diff?(u(),h("div",ar,"P+")):A("",!0),"negativePrompt"in i.genDiffToNext.diff?(u(),h("div",ur,"P-")):A("",!0),"seed"in i.genDiffToNext.diff?(u(),h("div",cr,"Se")):A("",!0),"steps"in i.genDiffToNext.diff?(u(),h("div",dr,"St")):A("",!0),"cfgScale"in i.genDiffToNext.diff?(u(),h("div",fr,"Cf")):A("",!0),"size"in i.genDiffToNext.diff?(u(),h("div",hr,"Si")):A("",!0),"Model"in i.genDiffToNext.diff?(u(),h("div",gr,"Mo")):A("",!0),"Sampler"in i.genDiffToNext.diff?(u(),h("div",vr,"Sa")):A("",!0),e(i.genDiffToNext.diff)?(u(),h("div",pr,"Ot")):A("",!0)])),a("div",mr,[a("small",null,[S(M(Fe)),yr,k(" vs "+y(i.genDiffToNext.otherFile)+" ",1),br,Ar,a("table",null,["prompt"in i.genDiffToNext.diff?(u(),h("tr",Sr,[Ir,a("td",null,y(i.genDiffToNext.diff.prompt)+" tokens changed",1)])):A("",!0),"negativePrompt"in i.genDiffToNext.diff?(u(),h("tr",_r,[kr,a("td",null,y(i.genDiffToNext.diff.negativePrompt)+" tokens changed",1)])):A("",!0),"seed"in i.genDiffToNext.diff?(u(),h("tr",Cr,[wr,a("td",null,[a("strong",null,y(i.genDiffToNext.diff.seed[0]),1),k(" vs "+y(i.genDiffToNext.diff.seed[1]),1)])])):A("",!0),"steps"in i.genDiffToNext.diff?(u(),h("tr",Er,[Tr,a("td",null,[a("strong",null,y(i.genDiffToNext.diff.steps[0]),1),k(" vs "+y(i.genDiffToNext.diff.steps[1]),1)])])):A("",!0),"cfgScale"in i.genDiffToNext.diff?(u(),h("tr",Or,[Pr,a("td",null,[a("strong",null,y(i.genDiffToNext.diff.cfgScale[0]),1),k(" vs "+y(i.genDiffToNext.diff.cfgScale[1]),1)])])):A("",!0),"size"in i.genDiffToNext.diff?(u(),h("tr",Dr,[Nr,a("td",null,[a("strong",null,y(i.genDiffToNext.diff.size[0]),1),k(" vs "+y(i.genDiffToNext.diff.size[1]),1)])])):A("",!0),"Model"in i.genDiffToNext.diff?(u(),h("tr",zr,[Qr,a("td",null,[a("strong",null,y(i.genDiffToNext.diff.Model[0]),1),Mr,k(" vs "+y(i.genDiffToNext.diff.Model[1]),1)])])):A("",!0),"Sampler"in i.genDiffToNext.diff?(u(),h("tr",$r,[Br,a("td",null,[a("strong",null,y(i.genDiffToNext.diff.Sampler[0]),1),Fr,k(" vs "+y(i.genDiffToNext.diff.Sampler[1]),1)])])):A("",!0)]),Rr,e(i.genDiffToNext.diff)?(u(),h("div",Lr,[jr,k(" props that changed:"),Hr,Vr,a("ul",null,[(u(!0),h(x,null,J(t(i.genDiffToNext.diff),(o,g)=>(u(),h("li",null,y(g),1))),256))])])):A("",!0)])])]))}});const Ur=st(xr,[["__scopeId","data-v-78cd67a3"]]),Jr=["data-idx"],Wr={key:1,class:"more"},Kr={class:"float-btn-wrap"},Yr={key:1,class:"tags-container"},Gr=["urld"],qr={class:"play-icon"},Zr=["src"],Xr={key:0,class:"tags-container"},es={key:4,class:"preview-icon-wrap"},ts={key:1,class:"dir-cover-container"},ns=["src"],is={key:5,class:"profile"},rs={class:"name line-clamp-1"},ss={class:"basic-info"},os=ee({__name:"FileItem",props:{file:{},idx:{},selected:{type:Boolean,default:!1},showMenuIdx:{},cellWidth:{},fullScreenPreviewImageUrl:{},enableRightClickMenu:{type:Boolean,default:!0},enableCloseIcon:{type:Boolean,default:!1},isSelectedMutilFiles:{type:Boolean},genInfo:{},enableChangeIndicator:{type:Boolean},extraTags:{},coverFiles:{},getGenDiff:{},getGenDiffWatchDep:{}},emits:["update:showMenuIdx","fileItemClick","dragstart","dragend","previewVisibleChange","contextMenuClick","close-icon-click"],setup(n,{emit:t}){const e=n;Yt(l=>({eaff2488:l.$props.cellWidth+"px"}));const i=Ie(),r=qe(),o=H(),g=H(),f=ge(()=>{const{getGenDiff:l,file:s,idx:c}=e;l&&(g.value=l(s.gen_info_obj,c,1,s),o.value=l(s.gen_info_obj,c,-1,s))},200+100*Math.random());se(()=>{var l;return(l=e.getGenDiffWatchDep)==null?void 0:l.call(e,e.idx)},()=>{g.value=void 0,o.value=void 0,f()},{immediate:!0,deep:!0});const p=V(()=>r.tagMap.get(e.file.fullpath)??[]),b=V(()=>{const l=i.gridThumbnailResolution;return i.enableThumbnail?ze(e.file,[l,l].join("x")):Gt(e.file)}),w=V(()=>{var l;return(((l=i.conf)==null?void 0:l.all_custom_tags)??[]).reduce((s,c)=>[...s,{...c,selected:!!p.value.find(v=>v.id===c.id)}],[])}),E=V(()=>w.value.find(l=>l.type==="custom"&&l.name==="like")),N=()=>{he(E.value),t("contextMenuClick",{key:`toggle-tag-${E.value.id}`},e.file,e.idx)};return(l,s)=>{const c=Z,v=it,P=rt,T=tn,_=dn;return u(),B(c,{trigger:["contextmenu"],visible:M(i).longPressOpenContextMenu?typeof l.idx=="number"&&l.showMenuIdx===l.idx:void 0,"onUpdate:visible":s[8]||(s[8]=d=>typeof l.idx=="number"&&t("update:showMenuIdx",d?l.idx:-1))},{overlay:C(()=>[l.enableRightClickMenu?(u(),B(Je,{key:0,file:l.file,idx:l.idx,"selected-tag":p.value,onContextMenuClick:s[7]||(s[7]=(d,m,D)=>t("contextMenuClick",d,m,D)),"is-selected-mutil-files":l.isSelectedMutilFiles},null,8,["file","idx","selected-tag","is-selected-mutil-files"])):A("",!0)]),default:C(()=>{var d;return[(u(),h("li",{class:G(["file file-item-trigger grid",{clickable:l.file.type==="dir",selected:l.selected}]),"data-idx":l.idx,key:l.file.name,draggable:"true",onDragstart:s[4]||(s[4]=m=>t("dragstart",m,l.idx)),onDragend:s[5]||(s[5]=m=>t("dragend",m,l.idx)),onClickCapture:s[6]||(s[6]=m=>t("fileItemClick",m,l.file,l.idx))},[a("div",null,[l.enableCloseIcon?(u(),h("div",{key:0,class:"close-icon",onClick:s[0]||(s[0]=m=>t("close-icon-click"))},[S(M(qt))])):A("",!0),l.enableRightClickMenu?(u(),h("div",Wr,[S(c,null,{overlay:C(()=>[S(Je,{file:l.file,idx:l.idx,"selected-tag":p.value,onContextMenuClick:s[1]||(s[1]=(m,D,z)=>t("contextMenuClick",m,D,z)),"is-selected-mutil-files":l.isSelectedMutilFiles},null,8,["file","idx","selected-tag","is-selected-mutil-files"])]),default:C(()=>[a("div",Kr,[S(M(Zt))])]),_:1}),l.file.type==="file"?(u(),B(c,{key:0},{overlay:C(()=>[w.value.length>1?(u(),B(P,{key:0,onClick:s[2]||(s[2]=m=>t("contextMenuClick",m,l.file,l.idx))},{default:C(()=>[(u(!0),h(x,null,J(w.value,m=>(u(),B(v,{key:`toggle-tag-${m.id}`},{default:C(()=>[k(y(m.name)+" ",1),m.selected?(u(),B(M(ot),{key:0})):(u(),B(M(lt),{key:1}))]),_:2},1024))),128))]),_:1})):A("",!0)]),default:C(()=>{var m,D;return[a("div",{class:G(["float-btn-wrap",{"like-selected":(m=E.value)==null?void 0:m.selected}]),onClick:N},[(D=E.value)!=null&&D.selected?(u(),B(M(Rn),{key:0})):(u(),B(M(Vn),{key:1}))],2)]}),_:1})):A("",!0)])):A("",!0),M(Xt)(l.file.name)?(u(),h("div",{key:l.file.fullpath,class:G(`idx-${l.idx} item-content`)},[l.enableChangeIndicator&&g.value&&o.value?(u(),B(Ur,{key:0,"gen-diff-to-next":g.value,"gen-diff-to-previous":o.value},null,8,["gen-diff-to-next","gen-diff-to-previous"])):A("",!0),S(T,{src:b.value,fallback:M(Dn),preview:{src:l.fullScreenPreviewImageUrl,onVisibleChange:(m,D)=>t("previewVisibleChange",m,D)}},null,8,["src","fallback","preview"]),p.value&&l.cellWidth>128?(u(),h("div",Yr,[(u(!0),h(x,null,J(l.extraTags??p.value,m=>(u(),B(_,{key:m.id,color:M(r).getColor(m.name)},{default:C(()=>[k(y(m.name),1)]),_:2},1032,["color"]))),128))])):A("",!0)],2)):M(en)(l.file.name)?(u(),h("div",{key:3,class:G(`idx-${l.idx} item-content video`),urld:M(ce)(l.file),style:nt({"background-image":`url('${M(ce)(l.file)}')`}),onClick:s[3]||(s[3]=m=>M(sn)(l.file,D=>t("contextMenuClick",{key:`toggle-tag-${D}`},l.file,l.idx)))},[a("div",qr,[a("img",{src:M(Wn),style:{width:"40px",height:"40px"}},null,8,Zr)]),p.value&&l.cellWidth>128?(u(),h("div",Xr,[(u(!0),h(x,null,J(p.value,m=>(u(),B(_,{key:m.id,color:M(r).getColor(m.name)},{default:C(()=>[k(y(m.name),1)]),_:2},1032,["color"]))),128))])):A("",!0)],14,Gr)):(u(),h("div",es,[l.file.type==="file"?(u(),B(M(yn),{key:0,class:"icon center"})):(d=l.coverFiles)!=null&&d.length&&l.cellWidth>160?(u(),h("div",ts,[(u(!0),h(x,null,J(l.coverFiles,m=>(u(),h("img",{class:"dir-cover-item",src:m.media_type==="image"?M(ze)(m):M(ce)(m),key:m.fullpath},null,8,ns))),128))])):(u(),B(M(In),{key:2,class:"icon center"}))])),l.cellWidth>128?(u(),h("div",is,[a("div",rs,y(l.file.name),1),a("div",ss,[a("div",null,y(l.file.type)+" "+y(l.file.size),1),a("div",null,y(l.file.date),1)])])):A("",!0)])],42,Jr))]}),_:1},8,["visible"])}}});const Is=st(os,[["__scopeId","data-v-886d2827"]]);export{Is as F,fs as N,Je as _,hs as a,Ss as b,As as c,ht as d,bs as e,ps as f,q as g,ys as h,vs as i,ms as j,Kn as k,Pn as r,gs as s,Gn as t,oe as u};
