import{d as L,j as ue,v as V,Z as de,u as J,_ as Ce,a as G,$ as ye,a0 as pe,h as F,c as v,P as Z,s as we,a1 as Oe,a2 as $e,a3 as xe,a4 as ve,a5 as Se,V as q,a6 as $,a7 as U,W as fe,a8 as Ie,a9 as W,aa as Pe,ab as E,ac as Te,ad as ze,o as m,z as B,A as g,m as S,t as u,ae as Re,Y as Me,M as Ne,r as Ae,af as De,ag as te,k as O,l,B as p,p as R,C as z,ah as ne,n as D,I as H,ai as Y,aj as Fe,ak as je,al as Be,X as Ge,am as Ve,an as Ee,q as Le}from"./index-3d1854d6.js";import{D as He}from"./index-ade8c3bc.js";import{V as Ue}from"./index-424a8676.js";var qe=["prefixCls","id"],he=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Z.any,name:String,id:String,autofocus:{type:Boolean,default:void 0},onChange:Function,onFocus:Function,onBlur:Function,onClick:Function,"onUpdate:checked":Function,"onUpdate:value":Function}};const I=L({compatConfig:{MODE:3},name:"ARadio",props:he(),setup:function(e,t){var s=t.emit,d=t.expose,C=t.slots,_=ue(),b=V(),k=de("radioGroupContext",void 0),T=J("radio",e),w=T.prefixCls,M=T.direction,j=function(){b.value.focus()},P=function(){b.value.blur()};d({focus:j,blur:P});var n=function(r){var h=r.target.checked;s("update:checked",h),s("update:value",h),s("change",r),_.onFieldChange()},i=function(r){s("change",r),k&&k.onRadioChange&&k.onRadioChange(r)};return function(){var c,r=k;e.prefixCls;var h=e.id,x=h===void 0?_.id.value:h,A=Ce(e,qe),y=G({prefixCls:w.value,id:x},ye(A,["onUpdate:checked","onUpdate:value"]));r?(y.name=r.props.name,y.onChange=i,y.checked=e.value===r.stateValue.value,y.disabled=e.disabled||r.props.disabled):y.onChange=n;var N=pe((c={},F(c,"".concat(w.value,"-wrapper"),!0),F(c,"".concat(w.value,"-wrapper-checked"),y.checked),F(c,"".concat(w.value,"-wrapper-disabled"),y.disabled),F(c,"".concat(w.value,"-wrapper-rtl"),M.value==="rtl"),c));return v("label",{class:N},[v(Ue,G(G({},y),{},{type:"radio",ref:b}),null),C.default&&v("span",null,[C.default()])])}}});var We=$e("large","default","small"),Qe=function(){return{prefixCls:String,value:Z.any,size:Z.oneOf(We),options:{type:Array},disabled:{type:Boolean,default:void 0},name:String,buttonStyle:{type:String,default:"outline"},id:String,optionType:{type:String,default:"default"},onChange:Function,"onUpdate:value":Function}};const me=L({compatConfig:{MODE:3},name:"ARadioGroup",props:Qe(),setup:function(e,t){var s=t.slots,d=t.emit,C=ue(),_=J("radio",e),b=_.prefixCls,k=_.direction,T=_.size,w=V(e.value),M=V(!1);we(function(){return e.value},function(P){w.value=P,M.value=!1});var j=function(n){var i=w.value,c=n.target.value;"value"in e||(w.value=c),!M.value&&c!==i&&(M.value=!0,d("update:value",c),d("change",n),C.onFieldChange()),xe(function(){M.value=!1})};return Oe("radioGroupContext",{onRadioChange:j,stateValue:w,props:e}),function(){var P,n=e.options,i=e.optionType,c=e.buttonStyle,r=e.id,h=r===void 0?C.id.value:r,x="".concat(b.value,"-group"),A=pe(x,"".concat(x,"-").concat(c),(P={},F(P,"".concat(x,"-").concat(T.value),T.value),F(P,"".concat(x,"-rtl"),k.value==="rtl"),P)),y=null;if(n&&n.length>0){var N=i==="button"?"".concat(b.value,"-button"):b.value;y=n.map(function(f){if(typeof f=="string"||typeof f=="number")return v(I,{key:f,prefixCls:N,disabled:e.disabled,value:f,checked:w.value===f},{default:function(){return[f]}});var X=f.value,_e=f.disabled,be=f.label;return v(I,{key:"radio-group-value-options-".concat(X),prefixCls:N,disabled:_e||e.disabled,value:X,checked:w.value===X},{default:function(){return[be]}})})}else{var a;y=(a=s.default)===null||a===void 0?void 0:a.call(s)}return v("div",{class:A,id:h},[y])}}}),ge=L({compatConfig:{MODE:3},name:"ARadioButton",props:he(),setup:function(e,t){var s=t.slots,d=J("radio-button",e),C=d.prefixCls,_=de("radioGroupContext",void 0);return function(){var b,k=G(G({},e),{},{prefixCls:C.value});return _&&(k.onChange=_.onRadioChange,k.checked=k.value===_.stateValue.value,k.disabled=k.disabled||_.props.disabled),v(I,k,{default:function(){return[(b=s.default)===null||b===void 0?void 0:b.call(s)]}})}}});I.Group=me;I.Button=ge;I.install=function(o){return o.component(I.name,I),o.component(I.Group.name,I.Group),o.component(I.Button.name,I.Button),o};var Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};const Ye=Xe;function ae(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(t).filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable}))),s.forEach(function(d){Ze(o,d,t[d])})}return o}function Ze(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var K=function(e,t){var s=ae({},e,t.attrs);return v(ve,ae({},s,{icon:Ye}),null)};K.displayName="FileDoneOutlined";K.inheritAttrs=!1;const Je=K;var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const et=Ke;function oe(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},s=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(t).filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable}))),s.forEach(function(d){tt(o,d,t[d])})}return o}function tt(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}var ee=function(e,t){var s=oe({},e,t.attrs);return v(ve,oe({},s,{icon:et}),null)};ee.displayName="LockOutlined";ee.inheritAttrs=!1;const le=ee;const se=async o=>{let e;if({}.TAURI_ARCH){const t=await Se({directory:!0});if(typeof t=="string")e=t;else return}else e=await new Promise(t=>{const s=V("");q.confirm({title:$("inputTargetFolderPath"),content:()=>U(fe,{value:s.value,"onUpdate:value":d=>s.value=d}),async onOk(){const d=s.value;(await Ie([d]))[d]?t(s.value):W.error($("pathDoesNotExist"))}})});q.confirm({content:$("confirmToAddToExtraPath"),async onOk(){await Pe({types:[o],path:e}),W.success($("addCompleted")),E.emit("searchIndexExpired"),E.emit("updateGlobalSetting")}})},ie=(o,e)=>{q.confirm({content:$("confirmDelete"),closable:!0,async onOk(){await Te({types:[e],path:o}),W.success($("removeCompleted")),E.emit("searchIndexExpired"),E.emit("updateGlobalSetting")}})},re=o=>{const e=V("");q.confirm({title:$("inputAlias"),content:()=>U("div",[U("div",{style:{"word-break":"break-all","margin-bottom":"4px"}},"Path: "+o),U(fe,{value:e.value,"onUpdate:value":t=>e.value=t})]),async onOk(){await ze({alias:e.value,path:o}),W.success($("addAliasCompleted")),E.emit("updateGlobalSetting")}})},ce=L({__name:"actionContextMenu",emits:["openOnTheRight","openInNewTab"],setup(o,{emit:e}){const t=s=>{switch(s.key.toString()){case"openOnTheRight":e("openOnTheRight");break;case"openInNewTab":e("openInNewTab");break}};return(s,d)=>{const C=Me,_=Ne,b=He;return m(),B(b,{trigger:["contextmenu"]},{overlay:g(()=>[v(_,{onClick:t},{default:g(()=>[v(C,{key:"openOnTheRight"},{default:g(()=>[S(u(s.$t("openOnTheRight")),1)]),_:1}),v(C,{key:"openInNewTab"},{default:g(()=>[S(u(s.$t("openInNewTab")),1)]),_:1})]),_:1})]),default:g(()=>[Re(s.$slots,"default")]),_:3})}}}),Q=o=>(Ve("data-v-b1092e0a"),o=o(),Ee(),o),nt={class:"container"},at={class:"header"},ot={key:0,style:{"margin-left":"16px","font-size":"1.5em"}},lt=Q(()=>l("div",{"flex-placeholder":""},null,-1)),st=Q(()=>l("a",{href:"https://github.com/zanllp/sd-webui-infinite-image-browsing",target:"_blank",class:"last-record"},"Github",-1)),it={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/blob/main/.env.example",target:"_blank",class:"last-record"},rt={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/wiki/Change-log",target:"_blank",class:"last-record"},ct={href:"https://github.com/zanllp/sd-webui-infinite-image-browsing/issues/90",target:"_blank",class:"last-record"},ut={class:"access-mode-message"},dt=Q(()=>l("div",{"flex-placeholder":""},null,-1)),pt={class:"access-mode-message"},vt=Q(()=>l("div",{"flex-placeholder":""},null,-1)),ft={class:"content"},ht={class:"feature-item"},mt={class:"text line-clamp-1"},gt=["onClick"],_t={class:"text line-clamp-2"},bt={key:0,class:"feature-item"},kt={class:"text line-clamp-1"},Ct=["onClick"],yt={class:"text line-clamp-2"},wt={class:"feature-item"},Ot=["onClick"],$t={class:"text line-clamp-1"},xt={class:"text line-clamp-1"},St={class:"text line-clamp-1"},It={class:"text line-clamp-1"},Pt={key:1,class:"feature-item recent"},Tt={class:"title"},zt=["onClick"],Rt={class:"text line-clamp-1"},Mt=L({__name:"emptyStartup",props:{tabIdx:{},paneIdx:{}},setup(o){const e=o,t=Ae(),s=De(),d={local:$("local"),"tag-search":$("imgSearch"),"fuzzy-search":$("fuzzy-search"),"global-setting":$("globalSettings"),"batch-download":$("batchDownload")+" / "+$("archive")},C=(n,i,c=!1)=>{let r;switch(n){case"grid-view":case"tag-search-matched-image-grid":case"img-sli":return;case"global-setting":case"tag-search":case"batch-download":case"fuzzy-search":case"empty":r={type:n,name:d[n],key:Date.now()+Y()};break;case"local":r={type:n,name:d[n],key:Date.now()+Y(),path:i,walkModePath:c?i:void 0}}return r},_=(n,i,c=!1)=>{const r=C(n,i,c);if(!r)return;const h=t.tabList[e.tabIdx];h.panes.splice(e.paneIdx,1,r),h.key=r.key},b=(n,i,c=!1)=>{const r=C(n,i,c);if(!r)return;t.tabList[e.tabIdx].panes.push(r)},k=(n,i,c=!1)=>{const r=C(n,i,c);if(!r)return;let h=t.tabList[e.tabIdx+1];h||(h={panes:[],key:"",id:Y()},t.tabList[e.tabIdx+1]=h),h.panes.push(r),h.key=r.key},T=te(()=>{var n;return(n=t.tabListHistoryRecord)==null?void 0:n[1]}),w=te(()=>t.quickMovePaths.filter(({key:n,types:i})=>n==="outdir_txt2img_samples"||n==="outdir_img2img_samples"||n==="outdir_txt2img_grids"||n==="outdir_img2img_grids"||i.includes("walk"))),M=window.parent!==window,j=()=>window.parent.open("/infinite_image_browsing"+(window.parent.location.href.includes("theme=dark")?"?__theme=dark":"")),P=()=>{Fe(T.value),t.tabList=je(T.value.tabs)};return(n,i)=>{var A,y,N;const c=ge,r=me,h=Be,x=Ge;return m(),O("div",nt,[l("div",at,[l("h1",null,u(n.$t("welcome")),1),(A=p(t).conf)!=null&&A.enable_access_control&&p(t).dontShowAgain?(m(),O("div",ot,[v(p(le),{title:"Access Control mode",style:{"vertical-align":"text-bottom"}})])):R("",!0),lt,st,l("a",it,u(n.$t("privacyAndSecurity")),1),l("a",rt,u(n.$t("changlog")),1),l("a",ct,u(n.$t("faq")),1),v(r,{value:p(t).darkModeControl,"onUpdate:value":i[0]||(i[0]=a=>p(t).darkModeControl=a),"button-style":"solid"},{default:g(()=>[v(c,{value:"light"},{default:g(()=>[S("light")]),_:1}),v(c,{value:"auto"},{default:g(()=>[S("auto")]),_:1}),v(c,{value:"dark"},{default:g(()=>[S("dark")]),_:1})]),_:1},8,["value"])]),(y=p(t).conf)!=null&&y.enable_access_control&&!p(t).dontShowAgain?(m(),B(h,{key:0,"show-icon":""},{message:g(()=>[l("div",ut,[l("div",null,u(n.$t("accessControlModeTips")),1),dt,l("a",{onClick:i[1]||(i[1]=z(a=>p(t).dontShowAgain=!0,["prevent"]))},u(n.$t("dontShowAgain")),1)])]),icon:g(()=>[v(p(le))]),_:1})):R("",!0),p(t).dontShowAgainNewImgOpts?R("",!0):(m(),B(h,{key:1,"show-icon":""},{message:g(()=>[l("div",pt,[l("div",null,u(n.$t("majorUpdateCustomCellSizeTips")),1),vt,l("a",{onClick:i[2]||(i[2]=z(a=>p(t).dontShowAgainNewImgOpts=!0,["prevent"]))},u(n.$t("dontShowAgain")),1)])]),_:1})),l("div",ft,[l("div",ht,[l("h2",null,u(n.$t("walkMode")),1),l("ul",null,[l("li",{onClick:i[3]||(i[3]=a=>p(se)("walk")),class:"item"},[l("span",mt,[v(p(ne)),S(" "+u(n.$t("add")),1)])]),(m(!0),O(D,null,H(w.value,a=>(m(),B(ce,{key:a.key,onOpenInNewTab:f=>b("local",a.dir,!0),onOpenOnTheRight:f=>k("local",a.dir,!0)},{default:g(()=>[l("li",{class:"item rem",onClick:z(f=>_("local",a.dir,!0),["prevent"])},[l("span",_t,u(a.zh),1),a.can_delete?(m(),O(D,{key:0},[v(x,{type:"link",onClick:z(f=>p(re)(a.dir),["stop"])},{default:g(()=>[S(u(n.$t("alias")),1)]),_:2},1032,["onClick"]),v(x,{type:"link",onClick:z(f=>p(ie)(a.dir,"walk"),["stop"])},{default:g(()=>[S(u(n.$t("remove")),1)]),_:2},1032,["onClick"])],64)):R("",!0)],8,gt)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])]),p(t).quickMovePaths.length?(m(),O("div",bt,[l("h2",null,u(n.$t("launchFromQuickMove")),1),l("ul",null,[l("li",{onClick:i[4]||(i[4]=a=>p(se)("scanned")),class:"item"},[l("span",kt,[v(p(ne)),S(" "+u(n.$t("add")),1)])]),(m(!0),O(D,null,H(p(t).quickMovePaths.filter(({types:a})=>a.includes("cli_access_only")||a.includes("preset")||a.includes("scanned")),a=>(m(),B(ce,{key:a.key,onOpenInNewTab:f=>b("local",a.dir),onOpenOnTheRight:f=>k("local",a.dir)},{default:g(()=>[l("li",{class:"item rem",onClick:z(f=>_("local",a.dir),["prevent"])},[l("span",yt,u(a.zh),1),a.can_delete&&a.types.includes("scanned")?(m(),O(D,{key:0},[v(x,{type:"link",onClick:z(f=>p(re)(a.dir),["stop"])},{default:g(()=>[S(u(n.$t("alias")),1)]),_:2},1032,["onClick"]),v(x,{type:"link",onClick:z(f=>p(ie)(a.dir,"scanned"),["stop"])},{default:g(()=>[S(u(n.$t("remove")),1)]),_:2},1032,["onClick"])],64)):R("",!0)],8,Ct)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])])):R("",!0),l("div",wt,[l("h2",null,u(n.$t("launch")),1),l("ul",null,[(m(!0),O(D,null,H(Object.keys(d),a=>(m(),O("li",{key:a,class:"item",onClick:z(f=>_(a),["prevent"])},[l("span",$t,u(d[a]),1)],8,Ot))),128)),l("li",{class:"item",onClick:i[5]||(i[5]=a=>p(s).opened=!0)},[l("span",xt,u(n.$t("imgCompare")),1)]),M?(m(),O("li",{key:0,class:"item",onClick:j},[l("span",St,u(n.$t("openInNewWindow")),1)])):R("",!0),(N=T.value)!=null&&N.tabs.length?(m(),O("li",{key:1,class:"item",onClick:P},[l("span",It,u(n.$t("restoreLastRecord")),1)])):R("",!0)])]),p(t).recent.length?(m(),O("div",Pt,[l("div",Tt,[l("h2",null,u(n.$t("recent")),1),v(x,{onClick:i[6]||(i[6]=a=>p(t).recent=[]),type:"link"},{default:g(()=>[S(u(n.$t("clear")),1)]),_:1})]),l("ul",null,[(m(!0),O(D,null,H(p(t).recent,a=>(m(),O("li",{key:a.key,class:"item",onClick:z(f=>_("local",a.path),["prevent"])},[v(p(Je),{class:"icon"}),l("span",Rt,u(a.path),1)],8,zt))),128))])])):R("",!0)])])}}});const Ft=Le(Mt,[["__scopeId","data-v-b1092e0a"]]);export{Ft as default};
