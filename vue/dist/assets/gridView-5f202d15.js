import{u as v,b as w,F as y,g as b}from"./FileItem-3695dcaf.js";import{d as k,k as h,$ as x,b0 as D,b4 as F,o as I,y as C,c,n as E,r as s,L as V,c1 as z,X as B}from"./index-8897613b.js";import"./db-afd72581.js";import"./shortcut-902028a8.js";const S=k({__name:"gridView",props:{tabIdx:{},paneIdx:{},id:{},removable:{type:Boolean},allowDragAndDrop:{type:Boolean},files:{},paneKey:{}},setup(r){const l=r,p=h(),{stackViewEl:d}=v().toRefs(),{itemSize:i,gridItems:m,cellWidth:u}=w(),t=x(l.files??[]),f=async e=>{const o=z(e);l.allowDragAndDrop&&o&&t.value.push(...o.nodes)},_=e=>{t.value.splice(e,1)},g=e=>({id:e.name,count:0,display_name:null,type:"temp",...e});return D(()=>{p.pageFuncExportMap.set(l.paneKey,{getFiles:()=>F(t.value),setFiles:e=>t.value=e})}),(e,o)=>(I(),C("div",{class:"container",ref_key:"stackViewEl",ref:d,onDrop:f},[c(s(b),{ref:"scroller",class:"file-list",items:t.value.slice(),"item-size":s(i).first,"key-field":"fullpath","item-secondary-size":s(i).second,gridItems:s(m)},{default:E(({item:a,index:n})=>[c(y,{idx:n,file:a,"cell-width":s(u),"enable-close-icon":l.removable,onCloseIconClick:R=>_(n),"full-screen-preview-image-url":s(V)(a),tags:a==null?void 0:a.tags.map(g),"enable-right-click-menu":!1},null,8,["idx","file","cell-width","enable-close-icon","onCloseIconClick","full-screen-preview-image-url","tags"])]),_:1},8,["items","item-size","item-secondary-size","gridItems"])],544))}});const H=B(S,[["__scopeId","data-v-f022c26b"]]);export{H as default};
